<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>search-simulator: incs/inverted_index.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">search-simulator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a017a576ec58501fa2282aa4c0d388ec.html">incs</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">inverted_index.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Prototipos de funciones para la creación y manejo del índice invertido.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="graph_8h_source.html">graph.h</a>&quot;</code><br />
</div>
<p><a href="inverted__index_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInvertedIndex.html">InvertedIndex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; Incluye la definición de las estructuras y funciones del grafo.  <a href="structInvertedIndex.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a85560ae1877d60fcb344891c9208c11d" id="r_a85560ae1877d60fcb344891c9208c11d"><td class="memItemLeft" align="right" valign="top"><a id="a85560ae1877d60fcb344891c9208c11d" name="a85560ae1877d60fcb344891c9208c11d"></a>
typedef struct InvertedIndex&#160;</td><td class="memItemRight" valign="bottom"><b>InvertedIndex</b></td></tr>
<tr class="separator:a85560ae1877d60fcb344891c9208c11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0f707cef7cbf790e571ec9df13d309d5" id="r_a0f707cef7cbf790e571ec9df13d309d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f707cef7cbf790e571ec9df13d309d5">create_new_node</a> (char *)</td></tr>
<tr class="memdesc:a0f707cef7cbf790e571ec9df13d309d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crea un nuevo nodo en el índice invertido para una palabra específica.  <br /></td></tr>
<tr class="separator:a0f707cef7cbf790e571ec9df13d309d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a4e01a510719cc0e24c44d7c337f32" id="r_a75a4e01a510719cc0e24c44d7c337f32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75a4e01a510719cc0e24c44d7c337f32">add_document</a> (<a class="el" href="structInvertedIndex.html">InvertedIndex</a> **, int, char *)</td></tr>
<tr class="memdesc:a75a4e01a510719cc0e24c44d7c337f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agrega un documento al índice invertido, asociándolo con una palabra específica.  <br /></td></tr>
<tr class="separator:a75a4e01a510719cc0e24c44d7c337f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c718a8b8557e16f2e68a9c4a6dcfb23" id="r_a8c718a8b8557e16f2e68a9c4a6dcfb23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c718a8b8557e16f2e68a9c4a6dcfb23">is_stopword</a> (char *)</td></tr>
<tr class="memdesc:a8c718a8b8557e16f2e68a9c4a6dcfb23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convierte todo el texto a minúsculas y reemplaza caracteres de puntuación por espacios.  <br /></td></tr>
<tr class="separator:a8c718a8b8557e16f2e68a9c4a6dcfb23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3231bc20ff3c4ec1d42416d7b50d9617" id="r_a3231bc20ff3c4ec1d42416d7b50d9617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3231bc20ff3c4ec1d42416d7b50d9617">tokenize_text</a> (char *, int, <a class="el" href="structInvertedIndex.html">InvertedIndex</a> **)</td></tr>
<tr class="memdesc:a3231bc20ff3c4ec1d42416d7b50d9617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tokeniza el texto y agrega las palabras al índice invertido.  <br /></td></tr>
<tr class="separator:a3231bc20ff3c4ec1d42416d7b50d9617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b68e91fdb924af1316a3c01948d9ccf" id="r_a8b68e91fdb924af1316a3c01948d9ccf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b68e91fdb924af1316a3c01948d9ccf">print_inverted_index</a> (<a class="el" href="structInvertedIndex.html">InvertedIndex</a> **)</td></tr>
<tr class="memdesc:a8b68e91fdb924af1316a3c01948d9ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imprime el índice invertido mostrando cada palabra y los documentos asociados.  <br /></td></tr>
<tr class="separator:a8b68e91fdb924af1316a3c01948d9ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5c5ea1c346f40d0d7f524dc2c4a691" id="r_a3e5c5ea1c346f40d0d7f524dc2c4a691"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e5c5ea1c346f40d0d7f524dc2c4a691">print_search_word</a> (<a class="el" href="structInvertedIndex.html">InvertedIndex</a> **, char *)</td></tr>
<tr class="memdesc:a3e5c5ea1c346f40d0d7f524dc2c4a691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imprime el índice invertido mostrando cada palabra asociada a los documentos.  <br /></td></tr>
<tr class="separator:a3e5c5ea1c346f40d0d7f524dc2c4a691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b945cb5964e6845dd97ac1829369a" id="r_ab48b945cb5964e6845dd97ac1829369a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab48b945cb5964e6845dd97ac1829369a">hash_function</a> (char *)</td></tr>
<tr class="memdesc:ab48b945cb5964e6845dd97ac1829369a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Función hash para obtener un índice basado en el valor ASCII de los caracteres de una palabra.  <br /></td></tr>
<tr class="separator:ab48b945cb5964e6845dd97ac1829369a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53ca64f832ecf79b349c8c27a86c34d" id="r_ad53ca64f832ecf79b349c8c27a86c34d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structNode.html">Node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad53ca64f832ecf79b349c8c27a86c34d">search_word</a> (<a class="el" href="structInvertedIndex.html">InvertedIndex</a> **, char *)</td></tr>
<tr class="memdesc:ad53ca64f832ecf79b349c8c27a86c34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busca una palabra en el índice invertido.  <br /></td></tr>
<tr class="separator:ad53ca64f832ecf79b349c8c27a86c34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad333e42e5b9b681bfcec502e17f25129" id="r_ad333e42e5b9b681bfcec502e17f25129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad333e42e5b9b681bfcec502e17f25129">build_index</a> (<a class="el" href="structGraph.html">Graph</a> *, <a class="el" href="structInvertedIndex.html">InvertedIndex</a> **)</td></tr>
<tr class="memdesc:ad333e42e5b9b681bfcec502e17f25129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lee los archivos que se encuentran guardados en el grafo y crea el índice.  <br /></td></tr>
<tr class="separator:ad333e42e5b9b681bfcec502e17f25129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae9d12f178ab612bf89a7efda2b4b30" id="r_a0ae9d12f178ab612bf89a7efda2b4b30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ae9d12f178ab612bf89a7efda2b4b30">release_inverted_index</a> (<a class="el" href="structInvertedIndex.html">InvertedIndex</a> **)</td></tr>
<tr class="memdesc:a0ae9d12f178ab612bf89a7efda2b4b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Libera la memoria del índice invertido y los nodos de documentos asociados.  <br /></td></tr>
<tr class="separator:a0ae9d12f178ab612bf89a7efda2b4b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Prototipos de funciones para la creación y manejo del índice invertido. </p>
<dl class="section date"><dt>Date</dt><dd>18-11-2024 </dd></dl>
<dl class="section author"><dt>Authors</dt><dd>Miguel Loaiza, Diego Sanhueza, Miguel Maripillan y Felipe Cárcamo </dd></dl>
<p>Contiene los prototipos de las funciones y estructura dedicadas a la creación y manejo del índice invertido. </p>

<p class="definition">Definition in file <a class="el" href="inverted__index_8h_source.html">inverted_index.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a75a4e01a510719cc0e24c44d7c337f32" name="a75a4e01a510719cc0e24c44d7c337f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a4e01a510719cc0e24c44d7c337f32">&#9670;&#160;</a></span>add_document()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_document </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>hash_table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>doc_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>word</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Agrega un documento al índice invertido, asociándolo con una palabra específica. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash_table</td><td>Tabla hash. </td></tr>
    <tr><td class="paramname">doc_id</td><td>ID del documento. </td></tr>
    <tr><td class="paramname">word</td><td>Palabra a agregar.</td></tr>
    <tr><td class="paramname">hash_table</td><td>Tabla hash que contiene el índice invertido. </td></tr>
    <tr><td class="paramname">doc_id</td><td>ID del documento donde aparece la palabra. </td></tr>
    <tr><td class="paramname">word</td><td>Palabra que se indexará. </td></tr>
  </table>
  </dd>
</dl>
<p>Calcula el índice en la tabla hash para la palabra. Busca la palabra en la lista enlazada correspondiente al índice. </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code hl_function" href="inverted__index_8c.html#a897c98d07f8e56920aef2803e175cbd8">hash_function</a>(word);</div>
<div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *current = hash_table[index];</div>
<div class="line"><span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(current-&gt;word, word) == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// La palabra ya está en el índice; agrega el documento.</span></div>
<div class="line">        <a class="code hl_struct" href="structNode.html">Node</a> *new_doc = (<a class="code hl_struct" href="structNode.html">Node</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structNode.html">Node</a>));</div>
<div class="line">        new_doc-&gt;doc_id = doc_id;</div>
<div class="line">        new_doc-&gt;next = current-&gt;docs_list;</div>
<div class="line">        current-&gt;docs_list = new_doc;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    current = current-&gt;next;</div>
<div class="line">}</div>
<div class="ttc" id="ainverted__index_8c_html_a897c98d07f8e56920aef2803e175cbd8"><div class="ttname"><a href="inverted__index_8c.html#a897c98d07f8e56920aef2803e175cbd8">hash_function</a></div><div class="ttdeci">unsigned int hash_function(char *word)</div><div class="ttdoc">Función hash para obtener un índice basado en el valor ASCII de los caracteres de una palabra.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00330">inverted_index.c:330</a></div></div>
<div class="ttc" id="astructInvertedIndex_html"><div class="ttname"><a href="structInvertedIndex.html">InvertedIndex</a></div><div class="ttdoc">&lt; Incluye la definición de las estructuras y funciones del grafo.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8h_source.html#l00026">inverted_index.h:27</a></div></div>
<div class="ttc" id="astructNode_html"><div class="ttname"><a href="structNode.html">Node</a></div><div class="ttdoc">Estrucutra de un nodo.</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00069">graph.h:70</a></div></div>
</div><!-- fragment --><p>Si la palabra no está en el índice, crea un nuevo nodo y la agrega al índice. También asigna memoria para un nodo que representa el documento. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *new_node = <a class="code hl_function" href="inverted__index_8c.html#a054f8c4c40d35263099ce511744fef5a">create_new_node</a>(word);</div>
<div class="line">new_node-&gt;next = hash_table[index];</div>
<div class="line">hash_table[index] = new_node;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structNode.html">Node</a> *new_doc = (<a class="code hl_struct" href="structNode.html">Node</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structNode.html">Node</a>));</div>
<div class="line"><span class="keywordflow">if</span> (new_doc == NULL)</div>
<div class="line">{</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Error al asignar memoria para nuevo documento\n&quot;</span>);</div>
<div class="line">    exit(EXIT_FAILURE);</div>
<div class="line">}</div>
<div class="line">new_doc-&gt;doc_id = doc_id;</div>
<div class="line">new_doc-&gt;next = NULL;</div>
<div class="line">new_node-&gt;docs_list = new_doc;</div>
<div class="ttc" id="ainverted__index_8c_html_a054f8c4c40d35263099ce511744fef5a"><div class="ttname"><a href="inverted__index_8c.html#a054f8c4c40d35263099ce511744fef5a">create_new_node</a></div><div class="ttdeci">InvertedIndex * create_new_node(char *word)</div><div class="ttdoc">&lt; Incluye la definición de las estructuras y funciones del índice invertido.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00017">inverted_index.c:17</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00059">59</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="ad333e42e5b9b681bfcec502e17f25129" name="ad333e42e5b9b681bfcec502e17f25129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad333e42e5b9b681bfcec502e17f25129">&#9670;&#160;</a></span>build_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void build_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGraph.html">Graph</a> *</td>          <td class="paramname"><span class="paramname"><em>graph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lee los archivos que se encuentran guardados en el grafo y crea el índice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>Grafo. </td></tr>
    <tr><td class="paramname">index</td><td>Índice invertido.</td></tr>
  </table>
  </dd>
</dl>
<p>Lee los archivos que se encuentran guardados en el grafo y crea el índice.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>Grafo que contiene los datos de los documentos. </td></tr>
    <tr><td class="paramname">index</td><td>Tabla hash que contiene el índice invertido. </td></tr>
  </table>
  </dd>
</dl>
<p>Itera sobre los documentos identificados en el grafo. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; graph-&gt;total_docs; i++)</div>
<div class="line">{</div>
<div class="line">    FILE *file = fopen(graph-&gt;mapping_docs[i].name, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line">    {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;No se pudo abrir el archivo %s\n&quot;</span>, graph-&gt;mapping_docs[i].name);</div>
<div class="line">        <span class="keywordflow">continue</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Intenta abrir el archivo correspondiente al documento. Si el archivo no puede ser abierto, muestra un error y pasa al siguiente documento. </p><div class="fragment"><div class="line">FILE *file = fopen(graph-&gt;mapping_docs[i].name, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (file == NULL)</div>
<div class="line">{</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;No se pudo abrir el archivo %s\n&quot;</span>, graph-&gt;mapping_docs[i].name);</div>
<div class="line">    <span class="keywordflow">continue</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Define un buffer para leer cada línea del archivo. </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> buffer[1024];</div>
<div class="line"><span class="keywordflow">while</span> (fgets(buffer, <span class="keyword">sizeof</span>(buffer), file))</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="inverted__index_8c.html#aa43037f50a965f75d13c1c79470a3c1f">tokenize_text</a>(buffer, graph-&gt;mapping_docs[i].doc_id, index);</div>
<div class="line">}</div>
<div class="ttc" id="ainverted__index_8c_html_aa43037f50a965f75d13c1c79470a3c1f"><div class="ttname"><a href="inverted__index_8c.html#aa43037f50a965f75d13c1c79470a3c1f">tokenize_text</a></div><div class="ttdeci">void tokenize_text(char *text, int doc_id, InvertedIndex **index)</div><div class="ttdoc">Tokeniza el texto de entrada, eliminando puntuación y stopwords, e indexa cada palabra.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00207">inverted_index.c:207</a></div></div>
</div><!-- fragment --><p>Procesa cada línea del archivo y la pasa a la función tokenize_text, que procesa el texto y lo agrega al índice invertido. </p><div class="fragment"><div class="line"><a class="code hl_function" href="inverted__index_8c.html#aa43037f50a965f75d13c1c79470a3c1f">tokenize_text</a>(buffer, graph-&gt;mapping_docs[i].doc_id, index);</div>
</div><!-- fragment --><p>Cierra el archivo una vez que ha terminado de procesarlo. </p><div class="fragment"><div class="line">fclose(file);</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00509">509</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a0f707cef7cbf790e571ec9df13d309d5" name="a0f707cef7cbf790e571ec9df13d309d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f707cef7cbf790e571ec9df13d309d5">&#9670;&#160;</a></span>create_new_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> * create_new_node </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>word</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crea un nuevo nodo en el índice invertido para una palabra específica. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>La palabra a agregar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new_node</dd></dl>
<p>Crea un nuevo nodo en el índice invertido para una palabra específica.</p>
<p>&lt; Incluye la definición de las estructuras y funciones del grafo.</p>
<p>Crea un nuevo nodo en el índice invertido para una palabra específica. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>La palabra a agregar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Un puntero al nuevo nodo creado. </dd></dl>
<p>Asigna memoria para el nuevo nodo del índice invertido. Si la asignación falla, se imprime un mensaje de error y el programa termina. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *new_node = (<a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a>));</div>
<div class="line"><span class="keywordflow">if</span> (new_node == NULL)</div>
<div class="line">{</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Error al asignar memoria\n&quot;</span>);</div>
<div class="line">    exit(EXIT_FAILURE);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Copia la palabra en el nodo y establece la lista de documentos y el puntero siguiente a NULL. Inicialmente, no hay documentos asociados con esta palabra, y el puntero al siguiente nodo también es NULL. </p><div class="fragment"><div class="line">strcpy(new_node-&gt;word, word);</div>
<div class="line">new_node-&gt;docs_list = NULL;</div>
<div class="line">new_node-&gt;next = NULL;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00017">17</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="ab48b945cb5964e6845dd97ac1829369a" name="ab48b945cb5964e6845dd97ac1829369a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48b945cb5964e6845dd97ac1829369a">&#9670;&#160;</a></span>hash_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int hash_function </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>word</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Función hash para obtener un índice basado en el valor ASCII de los caracteres de una palabra. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>Palabra a procesar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>hash</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>Palabra a procesar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Valor hash de la palabra. </dd></dl>
<p>Inicializa el valor hash en cero. </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash = 0;</div>
</div><!-- fragment --><p>Recorre cada carácter en la palabra y actualiza el valor hash. El hash se calcula multiplicando el valor anterior por 31 y sumando el código ASCII de cada carácter. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; word[i] != <span class="charliteral">&#39;\0&#39;</span>; i++)</div>
<div class="line">    hash = (hash * 31) + word[i];</div>
</div><!-- fragment --><p>Limita el valor hash por el tamaño máximo de la tabla hash. </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> hash % HASH_TABLE_SIZE;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00330">330</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a8c718a8b8557e16f2e68a9c4a6dcfb23" name="a8c718a8b8557e16f2e68a9c4a6dcfb23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c718a8b8557e16f2e68a9c4a6dcfb23">&#9670;&#160;</a></span>is_stopword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_stopword </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>token</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convierte todo el texto a minúsculas y reemplaza caracteres de puntuación por espacios. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>Token a procesar.</td></tr>
  </table>
  </dd>
</dl>
<p>Convierte todo el texto a minúsculas y reemplaza caracteres de puntuación por espacios.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>El token a analizar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> si el token es una stopword, <code>false</code> en caso contrario. </dd></dl>
<p>Lista de palabras consideradas como stopwords. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *stopwords[] = {<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;o&quot;</span>, <span class="stringliteral">&quot;u&quot;</span>, <span class="stringliteral">&quot;link&quot;</span>};</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> num_stopwords = <span class="keyword">sizeof</span>(stopwords) / <span class="keyword">sizeof</span>(stopwords[0]);</div>
</div><!-- fragment --><p>Convierte el token a minúsculas para evitar problemas con mayúsculas/minúsculas. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; token[i]; i++)</div>
<div class="line">{</div>
<div class="line">    token[i] = tolower((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)token[i]);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Compara el token con las stopwords. Si el token es una stopword, devuelve <code>true</code>. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_stopwords; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(token, stopwords[i]) == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Verificación del patrón "docN", donde N es un número. Si el token comienza con "doc" seguido de un número, devuelve <code>true</code>. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (strncmp(token, <span class="stringliteral">&quot;doc&quot;</span>, 3) == 0 &amp;&amp; isdigit(token[3]))</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00137">137</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a8b68e91fdb924af1316a3c01948d9ccf" name="a8b68e91fdb924af1316a3c01948d9ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b68e91fdb924af1316a3c01948d9ccf">&#9670;&#160;</a></span>print_inverted_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_inverted_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imprime el índice invertido mostrando cada palabra y los documentos asociados. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Índice invertido.</td></tr>
    <tr><td class="paramname">index</td><td>Tabla hash que contiene el índice invertido. </td></tr>
  </table>
  </dd>
</dl>
<p>Recorre la tabla hash y muestra las palabras y sus documentos asociados. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; HASH_TABLE_SIZE; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (index[i] != NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *current = index[i];</div>
<div class="line">        <span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">        {</div>
<div class="line">            fprintf(stdout, <span class="stringliteral">&quot;Palabra: %s - Documentos: &quot;</span>, current-&gt;word);</div>
<div class="line">            <a class="code hl_struct" href="structNode.html">Node</a> *doc_node = current-&gt;docs_list;</div>
<div class="line">            <span class="keywordflow">while</span> (doc_node != NULL)</div>
<div class="line">            {</div>
<div class="line">                fprintf(stdout, <span class="stringliteral">&quot;%d &quot;</span>, doc_node-&gt;doc_id);</div>
<div class="line">                doc_node = doc_node-&gt;next;</div>
<div class="line">            }</div>
<div class="line">            fprintf(stdout, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">            current = current-&gt;next;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00275">275</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a3e5c5ea1c346f40d0d7f524dc2c4a691" name="a3e5c5ea1c346f40d0d7f524dc2c4a691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5c5ea1c346f40d0d7f524dc2c4a691">&#9670;&#160;</a></span>print_search_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_search_word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>word_to_search</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imprime el índice invertido mostrando cada palabra asociada a los documentos. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Índice invertido.</td></tr>
  </table>
  </dd>
</dl>
<p>Imprime el índice invertido mostrando cada palabra asociada a los documentos.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Tabla hash que contiene el índice invertido. </td></tr>
    <tr><td class="paramname">word_to_search</td><td>Palabra a buscar en el índice. </td></tr>
  </table>
  </dd>
</dl>
<p>Llama a la función search_word para obtener los documentos asociados a la palabra. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structNode.html">Node</a> *results = <a class="code hl_function" href="inverted__index_8c.html#a4f66d55e651735ee8262e7a6de2d5b05">search_word</a>(index, word_to_search);</div>
<div class="ttc" id="ainverted__index_8c_html_a4f66d55e651735ee8262e7a6de2d5b05"><div class="ttname"><a href="inverted__index_8c.html#a4f66d55e651735ee8262e7a6de2d5b05">search_word</a></div><div class="ttdeci">Node * search_word(InvertedIndex **hash_table, char *word)</div><div class="ttdoc">Busca una palabra en el índice invertido y retorna la lista de documentos asociados.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00366">inverted_index.c:366</a></div></div>
</div><!-- fragment --><p>Si no se encuentran resultados, muestra un mensaje de error. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (!results)</div>
<div class="line">{</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Palabra &#39;%s&#39; no encontrada.\n&quot;</span>, word_to_search);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Muestra los documentos en los que se encuentra la palabra. </p><div class="fragment"><div class="line">fprintf(stdout, <span class="stringliteral">&quot;\nLa palabra &#39;%s&#39; se encuentra en los siguientes documentos:\n\n&quot;</span>, word_to_search);</div>
</div><!-- fragment --><p>Inicializa un contador para registrar cuántas veces aparece la palabra en cada documento. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> doc_count[MAX_DOCS] = {0};</div>
</div><!-- fragment --><p>Recorre la lista de documentos y cuenta cuántas veces aparece la palabra en cada documento. </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">{</div>
<div class="line">    doc_count[current-&gt;doc_id]++;</div>
<div class="line">    current = current-&gt;next;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Muestra la cantidad de veces que aparece la palabra en cada documento. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MAX_DOCS; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (doc_count[i] &gt; 0)</div>
<div class="line">        fprintf(stdout, <span class="stringliteral">&quot;Doc%d: %d veces\n&quot;</span>, i, doc_count[i]);</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00427">427</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a0ae9d12f178ab612bf89a7efda2b4b30" name="a0ae9d12f178ab612bf89a7efda2b4b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae9d12f178ab612bf89a7efda2b4b30">&#9670;&#160;</a></span>release_inverted_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void release_inverted_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>hash_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Libera la memoria del índice invertido y los nodos de documentos asociados. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash_table</td><td>Tabla hash.</td></tr>
    <tr><td class="paramname">hash_table</td><td>Tabla hash que contiene el índice invertido. </td></tr>
  </table>
  </dd>
</dl>
<p>Verifica si la tabla hash es nula y retorna si es el caso. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (hash_table == NULL)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
</div><!-- fragment --><p>Recorre cada índice en la tabla hash. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; HASH_TABLE_SIZE; i++)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *current = hash_table[i];</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>Procesa la lista de palabras asociada a cada índice en la tabla hash. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *current = hash_table[i];</div>
<div class="line"><span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structNode.html">Node</a> *doc_node = current-&gt;docs_list;</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p>Libera la memoria de cada palabra y su lista de documentos. </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="structNode.html">Node</a> *doc_node = current-&gt;docs_list;</div>
<div class="line">    <span class="keywordflow">while</span> (doc_node != NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_struct" href="structNode.html">Node</a> *temp_doc_node = doc_node;</div>
<div class="line">        doc_node = doc_node-&gt;next;</div>
<div class="line">        free(temp_doc_node);</div>
<div class="line">    }</div>
<div class="line">    <a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *temp = current;</div>
<div class="line">    current = current-&gt;next;</div>
<div class="line">    free(temp);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Libera cada nodo de documento. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structNode.html">Node</a> *temp_doc_node = doc_node;</div>
<div class="line">doc_node = doc_node-&gt;next;</div>
<div class="line">free(temp_doc_node);</div>
</div><!-- fragment --><p>Libera el nodo de la palabra. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *temp = current;</div>
<div class="line">current = current-&gt;next;</div>
<div class="line">free(temp);</div>
</div><!-- fragment --><p>Establece el índice en la tabla hash como NULL después de liberar su memoria. </p><div class="fragment"><div class="line">hash_table[i] = NULL;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00583">583</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="ad53ca64f832ecf79b349c8c27a86c34d" name="ad53ca64f832ecf79b349c8c27a86c34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53ca64f832ecf79b349c8c27a86c34d">&#9670;&#160;</a></span>search_word()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structNode.html">Node</a> * search_word </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>hash_table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>word</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Busca una palabra en el índice invertido. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Índice invertido. </td></tr>
    <tr><td class="paramname">word_to_search</td><td>Palabra a buscar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>results</dd></dl>
<p>Busca una palabra en el índice invertido.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash_table</td><td>Tabla hash que contiene el índice invertido. </td></tr>
    <tr><td class="paramname">word</td><td>Palabra que se busca en el índice. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Lista de nodos de documentos donde aparece la palabra, o <code>NULL</code> si no se encuentra. </dd></dl>
<p>Convierte la palabra a minúsculas para una comparación uniforme. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; word[i]; i++)</div>
<div class="line">    word[i] = tolower(word[i]);</div>
</div><!-- fragment --><p>Obtiene el índice en la tabla hash utilizando la función hash. </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code hl_function" href="inverted__index_8c.html#a897c98d07f8e56920aef2803e175cbd8">hash_function</a>(word);</div>
</div><!-- fragment --><p>Inicia la búsqueda en la lista de nodos de la tabla hash. </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structInvertedIndex.html">InvertedIndex</a> *current = hash_table[index];</div>
</div><!-- fragment --><p>Recorre los nodos en busca de la palabra, comparando cada nodo con la palabra buscada. Si se encuentra, se retorna la lista de documentos asociados. </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (current != NULL)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp(current-&gt;word, word) == 0)</div>
<div class="line">        <span class="keywordflow">return</span> current-&gt;docs_list;</div>
<div class="line">    current = current-&gt;next;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Retorna NULL si la palabra no se encuentra en la tabla hash. </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> NULL;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00366">366</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
<a id="a3231bc20ff3c4ec1d42416d7b50d9617" name="a3231bc20ff3c4ec1d42416d7b50d9617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3231bc20ff3c4ec1d42416d7b50d9617">&#9670;&#160;</a></span>tokenize_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tokenize_text </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>doc_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structInvertedIndex.html">InvertedIndex</a> **</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tokeniza el texto y agrega las palabras al índice invertido. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>Texto a tokenizar. </td></tr>
    <tr><td class="paramname">doc_id</td><td>ID del documento. </td></tr>
    <tr><td class="paramname">index</td><td>Índice invertido.</td></tr>
  </table>
  </dd>
</dl>
<p>Tokeniza el texto y agrega las palabras al índice invertido.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>Texto de entrada que será tokenizado. </td></tr>
    <tr><td class="paramname">doc_id</td><td>ID del documento al que pertenece el texto. </td></tr>
    <tr><td class="paramname">index</td><td>Tabla hash que contiene el índice invertido. </td></tr>
  </table>
  </dd>
</dl>
<p>Convierte todo el texto a minúsculas. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; text[i]; i++)</div>
<div class="line">    text[i] = tolower(text[i]);</div>
</div><!-- fragment --><p>Reemplaza caracteres de puntuación por espacios. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; text[i]; i++)</div>
<div class="line">    <span class="keywordflow">if</span> (ispunct(text[i]))</div>
<div class="line">        text[i] = <span class="charliteral">&#39; &#39;</span>;</div>
</div><!-- fragment --><p>Separa el texto en palabras utilizando el espacio como delimitador. </p><div class="fragment"><div class="line">token = strtok(text, <span class="stringliteral">&quot; &quot;</span>);</div>
</div><!-- fragment --><p>Procesa cada token. </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (token != NULL)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (strlen(token) &gt;= MAX_WORD_SIZE)</div>
<div class="line">    {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;La palabra es muy larga\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_function" href="inverted__index_8c.html#a74a7253925df4ca184eeac9fbed8b6a3">is_stopword</a>(token))</div>
<div class="line">        <a class="code hl_function" href="inverted__index_8c.html#ac5eedac977ab2452507dbb9a7bb88df9">add_document</a>(index, doc_id, token);</div>
<div class="line">    token = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="ainverted__index_8c_html_a74a7253925df4ca184eeac9fbed8b6a3"><div class="ttname"><a href="inverted__index_8c.html#a74a7253925df4ca184eeac9fbed8b6a3">is_stopword</a></div><div class="ttdeci">bool is_stopword(char *token)</div><div class="ttdoc">Verifica si un token es una palabra irrelevante (stopword) que debe ignorarse en el índice.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00137">inverted_index.c:137</a></div></div>
<div class="ttc" id="ainverted__index_8c_html_ac5eedac977ab2452507dbb9a7bb88df9"><div class="ttname"><a href="inverted__index_8c.html#ac5eedac977ab2452507dbb9a7bb88df9">add_document</a></div><div class="ttdeci">void add_document(InvertedIndex **hash_table, int doc_id, char *word)</div><div class="ttdoc">Agrega un documento al índice invertido, asociándolo con una palabra específica.</div><div class="ttdef"><b>Definition</b> <a href="inverted__index_8c_source.html#l00059">inverted_index.c:59</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="inverted__index_8c_source.html#l00207">207</a> of file <a class="el" href="inverted__index_8c_source.html">inverted_index.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
