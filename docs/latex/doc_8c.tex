\doxysection{src2/doc.c File Reference}
\hypertarget{doc_8c}{}\label{doc_8c}\index{src2/doc.c@{src2/doc.c}}


Archivo que contiene el manejo de archivos y rellenado de estos.  


{\ttfamily \#include "{}graph.\+h"{}}\newline
{\ttfamily \#include "{}doc.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{doc_8c_a145464661c096419f55d33a30b8486ab}{generate\+\_\+text\+\_\+files}} (int num\+\_\+docs, int num\+\_\+characters)
\begin{DoxyCompactList}\small\item\em \texorpdfstring{$<$}{<} Incluye la definición de las funciones de generación de archivos. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{doc_8c_ac3ec88a42d8870792dddb2c8617c3c12}{generate\+\_\+random\+\_\+text}} (FILE \texorpdfstring{$\ast$}{*}doc, const char \texorpdfstring{$\ast$}{*}doc\+\_\+name, int num\+\_\+docs, int num\+\_\+characters, int current\+\_\+doc, int \texorpdfstring{$\ast$}{*}links)
\begin{DoxyCompactList}\small\item\em Generar texto aleatorio. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Archivo que contiene el manejo de archivos y rellenado de estos. 

\begin{DoxyDate}{Date}
18-\/11-\/2024 
\end{DoxyDate}
\begin{DoxyAuthor}{Authors}
Miguel Loaiza, Diego Sanhueza, Miguel Maripillan y Felipe Carcamo 
\end{DoxyAuthor}
Contiene la implementación de las funciones que generan archivos de texto simulando documentos web con contenido aleatorio. 

Definition in file \mbox{\hyperlink{doc_8c_source}{doc.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{doc_8c_ac3ec88a42d8870792dddb2c8617c3c12}\index{doc.c@{doc.c}!generate\_random\_text@{generate\_random\_text}}
\index{generate\_random\_text@{generate\_random\_text}!doc.c@{doc.c}}
\doxysubsubsection{\texorpdfstring{generate\_random\_text()}{generate\_random\_text()}}
{\footnotesize\ttfamily \label{doc_8c_ac3ec88a42d8870792dddb2c8617c3c12} 
void generate\+\_\+random\+\_\+text (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{doc}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{doc\+\_\+name}{, }\item[{int}]{num\+\_\+docs}{, }\item[{int}]{num\+\_\+characters}{, }\item[{int}]{current\+\_\+doc}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{links}{}\end{DoxyParamCaption})}



Generar texto aleatorio. 

Genera texto aleatorio dentro de cada archivo web.


\begin{DoxyParams}{Parameters}
{\em doc} & Archivo a escribir \\
\hline
{\em doc\+\_\+name} & Nombre del archivo \\
\hline
{\em num\+\_\+docs} & Número de documentos \\
\hline
{\em num\+\_\+characters} & Número de caracteres \\
\hline
{\em current\+\_\+doc} & Documento actual \\
\hline
{\em links} & Conexiones entre documentos \\
\hline
\end{DoxyParams}
Genera texto aleatorio dentro de cada archivo web (letras entre A y Z). 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_characters;\ i++)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordtype}{char}\ letter\ =\ \textcolor{charliteral}{'A'}\ +\ rand()\ \%\ 26;}
\DoxyCodeLine{\ \ \ \ \ fprintf(doc,\ \textcolor{stringliteral}{"{}\%c"{}},\ letter);}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ <\ num\_characters\ -\/\ 1)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ fprintf(doc,\ \textcolor{stringliteral}{"{}\ "{}});}
\DoxyCodeLine{\}}

\end{DoxyCode}


Asegura al menos un enlace único en cada archivo web. 
\begin{DoxyCode}{0}
\DoxyCodeLine{fprintf(doc,\ \textcolor{stringliteral}{"{}\(\backslash\)nlink:\ doc\%d"{}},\ links[current\_doc\ -\/\ 1]);}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ extra\_links\ =\ rand()\ \%\ num\_docs;}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ extra\_links;\ i++)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordtype}{int}\ link\_doc\ =\ rand()\ \%\ num\_docs\ +\ 1;}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordflow}{if}\ (link\_doc\ !=\ current\_doc\ \&\&\ link\_doc\ !=\ links[current\_doc\ -\/\ 1])}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ fprintf(doc,\ \textcolor{stringliteral}{"{}\(\backslash\)nlink:\ doc\%d"{}},\ link\_doc);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{doc_8c_source_l00097}{97}} of file \mbox{\hyperlink{doc_8c_source}{doc.\+c}}.

\Hypertarget{doc_8c_a145464661c096419f55d33a30b8486ab}\index{doc.c@{doc.c}!generate\_text\_files@{generate\_text\_files}}
\index{generate\_text\_files@{generate\_text\_files}!doc.c@{doc.c}}
\doxysubsubsection{\texorpdfstring{generate\_text\_files()}{generate\_text\_files()}}
{\footnotesize\ttfamily \label{doc_8c_a145464661c096419f55d33a30b8486ab} 
void generate\+\_\+text\+\_\+files (\begin{DoxyParamCaption}\item[{int}]{num\+\_\+docs}{, }\item[{int}]{num\+\_\+characters}{}\end{DoxyParamCaption})}



\texorpdfstring{$<$}{<} Incluye la definición de las funciones de generación de archivos. 

Genera archivos txt simulando páginas web.

\texorpdfstring{$<$}{<} Incluye la definición de las estructuras y funciones del grafo.

Generar archivos txt 
\begin{DoxyParams}{Parameters}
{\em num\+\_\+docs} & Cantidad de archivos a generar \\
\hline
{\em num\+\_\+characters} & Cantidad de caracteres por archivo \\
\hline
\end{DoxyParams}
Verifica que el número de archivos a generar sea válido. Crea un array de enlaces para asegurar que cada documento tenga al menos un enlace. Llama a la función generate\+\_\+random\+\_\+text para generar el contenido de cada archivo. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (num\_docs\ <=\ 0\ ||\ num\_docs\ >=\ 100)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}El\ número\ de\ archivos\ web\ a\ generar\ debe\ ser\ MAYOR\ a\ 0\ y\ MENOR\ a\ 100.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ exit(EXIT\_FAILURE);}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (num\_characters\ <=\ 0\ ||\ num\_characters\ >=\ 50)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}El\ número\ de\ caracteres\ por\ archivo\ debe\ ser\ MAYOR\ a\ 0\ y\ MENOR\ a\ 50.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ exit(EXIT\_FAILURE);}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ *links\ =\ malloc(num\_docs\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_docs;\ i++)}
\DoxyCodeLine{\ \ \ \ \ links[i]\ =\ (i\ +\ 1)\ \%\ num\_docs\ +\ 1;}
\DoxyCodeLine{\textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i\ <=\ num\_docs;\ i++)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordtype}{char}\ doc\_name[MAX\_NAME\_DOC];}
\DoxyCodeLine{\ \ \ \ \ snprintf(doc\_name,\ \textcolor{keyword}{sizeof}(doc\_name),\ \textcolor{stringliteral}{"{}doc\%d.txt"{}},\ i);}
\DoxyCodeLine{\ \ \ \ \ FILE\ *doc\ =\ fopen(doc\_name,\ \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{\ \ \ \ \ \textcolor{keywordflow}{if}\ (doc\ ==\ NULL)}
\DoxyCodeLine{\ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}Error\ al\ abrir\ el\ archivo\ web.\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ free(links);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ exit(EXIT\_FAILURE);}
\DoxyCodeLine{\ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \mbox{\hyperlink{doc_8c_ac3ec88a42d8870792dddb2c8617c3c12}{generate\_random\_text}}(doc,\ doc\_name,\ num\_docs,\ num\_characters,\ i,\ links);}
\DoxyCodeLine{\ \ \ fclose(doc);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{doc_8c_source_l00018}{18}} of file \mbox{\hyperlink{doc_8c_source}{doc.\+c}}.

